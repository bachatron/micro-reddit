<h1><%= @post.title %></h1>

<p><%= @post.body %></p>

<p>
  <strong>Author:</strong>
  <%= @post.user.name %>
</p>

<h2>Comments</h2>

<% @post.comments.each do |comment| %>
  <p>
    <strong><%= comment.user.name %>:</strong>
    <%= comment.body %>
  </p>
<% end %>

<% if @comment && @comment.errors.any? %>
  <ul>
    <% @comment.errors.full_messages.each do |msg| %>
      <li><%= msg %></li>
    <% end %>
  </ul>
<% end %>

<h3>Add a comment</h3>


<%= form_with model: [@post, @comment], data: { turbo: false } do |f| %>

  <div>
    <%= f.text_area :body %>
  </div>

  <div>
    <%= f.submit "Add Comment" %>
  </div>
<% end %>



<%= link_to "Back to posts", posts_path %>
